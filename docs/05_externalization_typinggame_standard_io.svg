<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1216px" preserveAspectRatio="none" style="width:1563px;height:1216px;background:#FFFFFF;" version="1.1" viewBox="0 0 1563 1216" width="1563px" zoomAndPan="magnify"><defs><filter height="300%" id="f3l76it0m323k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><path d="M1217.5,58 L1217.5,100.7031 L1459.5,100.7031 L1459.5,68 L1449.5,58 L1217.5,58 " fill="#FBFB77" filter="url(#f3l76it0m323k)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1449.5,58 L1449.5,68 L1459.5,68 L1449.5,58 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="1223.5" y="76.4951">背景がピンク：新規に作成したクラス</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="1223.5" y="92.8467">背景がオレンジ：修正したクラス</text><!--MD5=[84718776d214be480e4c259efcb737fc]
class Main--><rect codeLine="7" fill="#FEFECE" filter="url(#f3l76it0m323k)" height="144.8516" id="Main" style="stroke:#A80036;stroke-width:1.5;" width="469" x="713" y="7"/><ellipse cx="930.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M933.0156,18.875 Q933.1719,18.6563 933.3594,18.5469 Q933.5469,18.4375 933.7656,18.4375 Q934.1406,18.4375 934.375,18.7031 Q934.6094,18.9531 934.6094,19.5625 L934.6094,21.0156 Q934.6094,21.625 934.375,21.8906 Q934.1406,22.1563 933.7656,22.1563 Q933.4219,22.1563 933.2188,21.9531 Q933.0156,21.7656 932.9063,21.25 Q932.8594,20.8906 932.6719,20.7031 Q932.3438,20.3281 931.7344,20.1094 Q931.125,19.8906 930.5,19.8906 Q929.7344,19.8906 929.0938,20.2188 Q928.4688,20.5469 927.9688,21.2969 Q927.4844,22.0469 927.4844,23.0781 L927.4844,24.1719 Q927.4844,25.4063 928.375,26.2344 Q929.2656,27.0469 930.8594,27.0469 Q931.7969,27.0469 932.4531,26.7969 Q932.8438,26.6406 933.2656,26.2031 Q933.5313,25.9375 933.6719,25.8594 Q933.8281,25.7813 934.0313,25.7813 Q934.3594,25.7813 934.6094,26.0469 Q934.875,26.2969 934.875,26.6406 Q934.875,26.9844 934.5313,27.3906 Q934.0313,27.9688 933.2344,28.2969 Q932.1563,28.75 930.8594,28.75 Q929.3438,28.75 928.1406,28.125 Q927.1563,27.625 926.4688,26.5625 Q925.7813,25.4844 925.7813,24.2031 L925.7813,23.0469 Q925.7813,21.7188 926.3906,20.5781 Q927.0156,19.4219 928.1094,18.8125 Q929.2031,18.1875 930.4375,18.1875 Q931.1719,18.1875 931.8125,18.3594 Q932.4688,18.5156 933.0156,18.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="26" x="950.75" y="27.9102">Main</text><line style="stroke:#A80036;stroke-width:1.5;" x1="714" x2="1181" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="714" x2="1181" y1="47" y2="47"/><ellipse cx="724" cy="58" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="30" x="733" y="62.4189">main()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="721" y="68.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="212" x="733" y="76.2549">TypingGameDifficulty displayInputDifficulty()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="721" y="82.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="122" x="733" y="90.0908">void displayCountDown()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="721" y="96.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="215" x="733" y="103.9268">void displayResult(TypingGame typingGame)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="721" y="110.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="443" x="733" y="117.7627">void displayRanking(TypingGameHistory typingGameHistory, TypingGameDifficulty difficulty)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="721" y="124.1797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="132" x="733" y="131.5986">boolean displayInputRetry()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="721" y="138.0156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="175" x="733" y="145.4346">static int getInputInt(int defaultValue)</text><!--MD5=[738c7c2ff5aeb58de2a1e5f3ac886fb6]
class TypingGame--><rect codeLine="17" fill="#FFA500" filter="url(#f3l76it0m323k)" height="255.5391" id="TypingGame" style="stroke:#A80036;stroke-width:1.5;" width="511" x="482" y="411"/><ellipse cx="698.25" cy="427" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M701.0156,422.875 Q701.1719,422.6563 701.3594,422.5469 Q701.5469,422.4375 701.7656,422.4375 Q702.1406,422.4375 702.375,422.7031 Q702.6094,422.9531 702.6094,423.5625 L702.6094,425.0156 Q702.6094,425.625 702.375,425.8906 Q702.1406,426.1563 701.7656,426.1563 Q701.4219,426.1563 701.2188,425.9531 Q701.0156,425.7656 700.9063,425.25 Q700.8594,424.8906 700.6719,424.7031 Q700.3438,424.3281 699.7344,424.1094 Q699.125,423.8906 698.5,423.8906 Q697.7344,423.8906 697.0938,424.2188 Q696.4688,424.5469 695.9688,425.2969 Q695.4844,426.0469 695.4844,427.0781 L695.4844,428.1719 Q695.4844,429.4063 696.375,430.2344 Q697.2656,431.0469 698.8594,431.0469 Q699.7969,431.0469 700.4531,430.7969 Q700.8438,430.6406 701.2656,430.2031 Q701.5313,429.9375 701.6719,429.8594 Q701.8281,429.7813 702.0313,429.7813 Q702.3594,429.7813 702.6094,430.0469 Q702.875,430.2969 702.875,430.6406 Q702.875,430.9844 702.5313,431.3906 Q702.0313,431.9688 701.2344,432.2969 Q700.1563,432.75 698.8594,432.75 Q697.3438,432.75 696.1406,432.125 Q695.1563,431.625 694.4688,430.5625 Q693.7813,429.4844 693.7813,428.2031 L693.7813,427.0469 Q693.7813,425.7188 694.3906,424.5781 Q695.0156,423.4219 696.1094,422.8125 Q697.2031,422.1875 698.4375,422.1875 Q699.1719,422.1875 699.8125,422.3594 Q700.4688,422.5156 701.0156,422.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="718.75" y="431.9102">TypingGame</text><line style="stroke:#A80036;stroke-width:1.5;" x1="483" x2="992" y1="443" y2="443"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="490" y="451"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="146" x="502" y="458.4189">TypingGameDifficulty difficulty</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="490" y="464.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="502" y="472.2549">List&lt;Question&gt; questions</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="490" y="478.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="137" x="502" y="486.0908">TypingGameListener listener</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="490" y="492.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="502" y="499.9268">List&lt;QuestionResult&gt; results</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="490" y="506.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="502" y="513.7627">ZonedDateTime startTime</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="490" y="520.1797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118" x="502" y="527.5986">ZonedDateTime endTime</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="490" y="534.0156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="111" x="502" y="541.4346">Question prevQuestion</text><line style="stroke:#A80036;stroke-width:1.5;" x1="483" x2="992" y1="547.8516" y2="547.8516"/><ellipse cx="493" cy="558.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="485" x="502" y="563.2705">TypingGame(TypingGameDifficulty difficulty, List&lt;Question&gt; questions, TypingGameListener listener)</text><ellipse cx="493" cy="572.6875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="502" y="577.1064">void execute()</text><ellipse cx="493" cy="586.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="164" x="502" y="590.9424">List&lt;QuestionResult&gt; getResults()</text><ellipse cx="493" cy="600.3594" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="124" x="502" y="604.7783">long getTimeToCalculate()</text><ellipse cx="493" cy="614.1953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="272" x="502" y="618.6143">boolean isSameDifficulty(TypingGameDifficulty difficulty)</text><ellipse cx="493" cy="628.0313" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="502" y="632.4502">int getNumberOfQuestions()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="490" y="638.8672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="134" x="502" y="646.2861">Question getNextQuestion()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="490" y="652.7031"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76" x="502" y="660.1221">String toString()</text><path d="M1028,517.5 L1028,535 L993.5,539 L1028,543 L1028,560.2031 A0,0 0 0 0 1028,560.2031 L1467,560.2031 A0,0 0 0 0 1467,560.2031 L1467,527.5 L1457,517.5 L1028,517.5 A0,0 0 0 0 1028,517.5 " fill="#FBFB77" filter="url(#f3l76it0m323k)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1457,517.5 L1457,527.5 L1467,527.5 L1457,517.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="418" x="1034" y="535.9951">TypingGameListenerを介して標準入出力を使用するようにすることで、</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="398" x="1034" y="552.3467">TypingGameから標準入出力との依存関係を切り離すことが出来た。</text><!--MD5=[16e97334476463f55178dcd7b6f0e90d]
class TypingGameListener--><rect codeLine="39" fill="#FFC0CB" filter="url(#f3l76it0m323k)" height="117.1797" id="TypingGameListener" style="stroke:#A80036;stroke-width:1.5;" width="226" x="861.5" y="797.5"/><ellipse cx="912.75" cy="813.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M913.7031,810.1406 L913.7031,816.7969 L915.4219,816.7969 Q916.0313,816.7969 916.2969,817.0313 Q916.5625,817.2656 916.5625,817.6563 Q916.5625,818.0313 916.2969,818.2656 Q916.0313,818.5 915.4219,818.5 L910.2813,818.5 Q909.6719,818.5 909.4063,818.2656 Q909.1406,818.0313 909.1406,817.6406 Q909.1406,817.2656 909.4063,817.0313 Q909.6719,816.7969 910.2813,816.7969 L912,816.7969 L912,810.1406 L910.2813,810.1406 Q909.6719,810.1406 909.4063,809.9063 Q909.1406,809.6719 909.1406,809.2813 Q909.1406,808.9063 909.4063,808.6719 Q909.6719,808.4375 910.2813,808.4375 L915.4219,808.4375 Q916.0313,808.4375 916.2969,808.6719 Q916.5625,808.9063 916.5625,809.2813 Q916.5625,809.6719 916.2969,809.9063 Q916.0313,810.1406 915.4219,810.1406 L913.7031,810.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="115" x="933.25" y="818.4102">TypingGameListener</text><line style="stroke:#A80036;stroke-width:1.5;" x1="862.5" x2="1086.5" y1="829.5" y2="829.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="862.5" x2="1086.5" y1="837.5" y2="837.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="214" x="867.5" y="852.9189">void onGameStart(TypingGame typingGame)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="209" x="867.5" y="866.7549">void onGameEnd(TypingGame typingGame)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="202" x="867.5" y="880.5908">String receiveAnswer(Question question)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="207" x="867.5" y="894.4268">void onJudgeOK(TypingGame typingGame)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="207" x="867.5" y="908.2627">void onJudgeNG(TypingGame typingGame)</text><!--MD5=[f2076064ef29070937814e2fca8e8d42]
class NormalTypingGameListener--><rect codeLine="47" fill="#FFC0CB" filter="url(#f3l76it0m323k)" height="48" id="NormalTypingGameListener" style="stroke:#A80036;stroke-width:1.5;" width="188" x="888.5" y="1028"/><ellipse cx="903.5" cy="1044" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M906.2656,1039.875 Q906.4219,1039.6563 906.6094,1039.5469 Q906.7969,1039.4375 907.0156,1039.4375 Q907.3906,1039.4375 907.625,1039.7031 Q907.8594,1039.9531 907.8594,1040.5625 L907.8594,1042.0156 Q907.8594,1042.625 907.625,1042.8906 Q907.3906,1043.1563 907.0156,1043.1563 Q906.6719,1043.1563 906.4688,1042.9531 Q906.2656,1042.7656 906.1563,1042.25 Q906.1094,1041.8906 905.9219,1041.7031 Q905.5938,1041.3281 904.9844,1041.1094 Q904.375,1040.8906 903.75,1040.8906 Q902.9844,1040.8906 902.3438,1041.2188 Q901.7188,1041.5469 901.2188,1042.2969 Q900.7344,1043.0469 900.7344,1044.0781 L900.7344,1045.1719 Q900.7344,1046.4063 901.625,1047.2344 Q902.5156,1048.0469 904.1094,1048.0469 Q905.0469,1048.0469 905.7031,1047.7969 Q906.0938,1047.6406 906.5156,1047.2031 Q906.7813,1046.9375 906.9219,1046.8594 Q907.0781,1046.7813 907.2813,1046.7813 Q907.6094,1046.7813 907.8594,1047.0469 Q908.125,1047.2969 908.125,1047.6406 Q908.125,1047.9844 907.7813,1048.3906 Q907.2813,1048.9688 906.4844,1049.2969 Q905.4063,1049.75 904.1094,1049.75 Q902.5938,1049.75 901.3906,1049.125 Q900.4063,1048.625 899.7188,1047.5625 Q899.0313,1046.4844 899.0313,1045.2031 L899.0313,1044.0469 Q899.0313,1042.7188 899.6406,1041.5781 Q900.2656,1040.4219 901.3594,1039.8125 Q902.4531,1039.1875 903.6875,1039.1875 Q904.4219,1039.1875 905.0625,1039.3594 Q905.7188,1039.5156 906.2656,1039.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="156" x="917.5" y="1048.9102">NormalTypingGameListener</text><line style="stroke:#A80036;stroke-width:1.5;" x1="889.5" x2="1075.5" y1="1060" y2="1060"/><line style="stroke:#A80036;stroke-width:1.5;" x1="889.5" x2="1075.5" y1="1068" y2="1068"/><path d="M1111.5,1039 L1111.5,1048 L1076.63,1052 L1111.5,1056 L1111.5,1065.3516 A0,0 0 0 0 1111.5,1065.3516 L1465.5,1065.3516 A0,0 0 0 0 1465.5,1065.3516 L1465.5,1049 L1455.5,1039 L1111.5,1039 A0,0 0 0 0 1111.5,1039 " fill="#FBFB77" filter="url(#f3l76it0m323k)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1455.5,1039 L1455.5,1049 L1465.5,1049 L1455.5,1039 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="333" x="1117.5" y="1057.4951">TypingGameから移した標準入出力の処理が入っている。</text><!--MD5=[2467ab778d54314a3fb6b7e9a32a0937]
class TypingGameDifficulty--><rect codeLine="52" fill="#FEFECE" filter="url(#f3l76it0m323k)" height="222.0313" id="TypingGameDifficulty" style="stroke:#A80036;stroke-width:1.5;" width="341" x="1123" y="745"/><ellipse cx="1231.75" cy="761" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1230.6094,761.7969 L1230.6094,764.2969 L1234.9375,764.2969 L1234.9375,763.375 Q1234.9375,762.7656 1235.1719,762.5 Q1235.4219,762.2344 1235.7969,762.2344 Q1236.1719,762.2344 1236.4063,762.5 Q1236.6406,762.7656 1236.6406,763.375 L1236.6406,766 L1228.6406,766 Q1228.0156,766 1227.75,765.7656 Q1227.5,765.5313 1227.5,765.1406 Q1227.5,764.7656 1227.7656,764.5313 Q1228.0313,764.2969 1228.6406,764.2969 L1228.9063,764.2969 L1228.9063,757.6406 L1228.6406,757.6406 Q1228.0156,757.6406 1227.75,757.4063 Q1227.5,757.1719 1227.5,756.7813 Q1227.5,756.4063 1227.75,756.1719 Q1228.0156,755.9375 1228.6406,755.9375 L1236.2656,755.9375 L1236.2656,758.5313 Q1236.2656,759.1406 1236.0313,759.4063 Q1235.8125,759.6563 1235.4219,759.6563 Q1235.0469,759.6563 1234.8125,759.4063 Q1234.5781,759.1406 1234.5781,758.5313 L1234.5781,757.6406 L1230.6094,757.6406 L1230.6094,760.0938 L1232.0938,760.0938 Q1232.0938,759.4375 1232.2188,759.25 Q1232.4844,758.8438 1232.9531,758.8438 Q1233.3281,758.8438 1233.5625,759.1094 Q1233.7969,759.3594 1233.7969,759.9688 L1233.7969,761.9375 Q1233.7969,762.4844 1233.6719,762.6719 Q1233.4063,763.0625 1232.9531,763.0625 Q1232.4844,763.0625 1232.2188,762.6563 Q1232.0938,762.4688 1232.0938,761.7969 L1230.6094,761.7969 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115" x="1252.25" y="765.9102">TypingGameDifficulty</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1124" x2="1463" y1="777" y2="777"/><ellipse cx="1134" cy="788" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="1143" y="792.4189">EASY</text><ellipse cx="1134" cy="801.8359" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="1143" y="806.2549">NORMAL</text><ellipse cx="1134" cy="815.6719" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="1143" y="820.0908">HARD</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1124" x2="1463" y1="826.5078" y2="826.5078"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1131" y="834.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="1143" y="841.9268">String name</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1131" y="848.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="1143" y="855.7627">int level</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1131" y="862.1797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="1143" y="869.5986">boolean defaultLevel</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1124" x2="1463" y1="876.0156" y2="876.0156"/><ellipse cx="1134" cy="887.0156" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="315" x="1143" y="891.4346">TypingGameDifficulty(String name, int level, boolean defaultLevel)</text><ellipse cx="1134" cy="900.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="159" x="1143" y="905.2705">TypingGameDifficulty of(int level)</text><ellipse cx="1134" cy="914.6875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="162" x="1143" y="919.1064">TypingGameDifficulty getDefault()</text><ellipse cx="1134" cy="928.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="1143" y="932.9424">String getName()</text><ellipse cx="1134" cy="942.3594" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="63" x="1143" y="946.7783">int getLevel()</text><ellipse cx="1134" cy="956.1953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="239" x="1143" y="960.6143">boolean lessThan(TypingGameDifficulty difficulty)</text><!--MD5=[e329a201e32f6879b6c4a5d5782241cc]
class TypingGameHistory--><rect codeLine="69" fill="#FEFECE" filter="url(#f3l76it0m323k)" height="103.3438" id="TypingGameHistory" style="stroke:#A80036;stroke-width:1.5;" width="369" x="646" y="230"/><ellipse cx="772.25" cy="246" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M775.0156,241.875 Q775.1719,241.6563 775.3594,241.5469 Q775.5469,241.4375 775.7656,241.4375 Q776.1406,241.4375 776.375,241.7031 Q776.6094,241.9531 776.6094,242.5625 L776.6094,244.0156 Q776.6094,244.625 776.375,244.8906 Q776.1406,245.1563 775.7656,245.1563 Q775.4219,245.1563 775.2188,244.9531 Q775.0156,244.7656 774.9063,244.25 Q774.8594,243.8906 774.6719,243.7031 Q774.3438,243.3281 773.7344,243.1094 Q773.125,242.8906 772.5,242.8906 Q771.7344,242.8906 771.0938,243.2188 Q770.4688,243.5469 769.9688,244.2969 Q769.4844,245.0469 769.4844,246.0781 L769.4844,247.1719 Q769.4844,248.4063 770.375,249.2344 Q771.2656,250.0469 772.8594,250.0469 Q773.7969,250.0469 774.4531,249.7969 Q774.8438,249.6406 775.2656,249.2031 Q775.5313,248.9375 775.6719,248.8594 Q775.8281,248.7813 776.0313,248.7813 Q776.3594,248.7813 776.6094,249.0469 Q776.875,249.2969 776.875,249.6406 Q776.875,249.9844 776.5313,250.3906 Q776.0313,250.9688 775.2344,251.2969 Q774.1563,251.75 772.8594,251.75 Q771.3438,251.75 770.1406,251.125 Q769.1563,250.625 768.4688,249.5625 Q767.7813,248.4844 767.7813,247.2031 L767.7813,246.0469 Q767.7813,244.7188 768.3906,243.5781 Q769.0156,242.4219 770.1094,241.8125 Q771.2031,241.1875 772.4375,241.1875 Q773.1719,241.1875 773.8125,241.3594 Q774.4688,241.5156 775.0156,241.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="792.75" y="250.9102">TypingGameHistory</text><line style="stroke:#A80036;stroke-width:1.5;" x1="647" x2="1014" y1="262" y2="262"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="654" y="270"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="666" y="277.4189">List&lt;TypingGame&gt; typingGames</text><line style="stroke:#A80036;stroke-width:1.5;" x1="647" x2="1014" y1="283.8359" y2="283.8359"/><ellipse cx="657" cy="294.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="666" y="299.2549">void add(TypingGame typingGame)</text><ellipse cx="657" cy="308.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="343" x="666" y="313.0908">List&lt;TypingGame&gt; sortedTypingGames(TypingGameDifficulty difficulty)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="654" y="319.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="327" x="666" y="326.9268">List&lt;TypingGame&gt; getTypingGames(TypingGameDifficulty difficulty)</text><!--MD5=[7a83da4f2de9d37a940211961c6e4279]
class TypingGameFactory--><rect codeLine="76" fill="#FFA500" filter="url(#f3l76it0m323k)" height="61.8359" id="TypingGameFactory" style="stroke:#A80036;stroke-width:1.5;" width="286" x="324.5" y="250.5"/><ellipse cx="408.75" cy="266.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M411.5156,262.375 Q411.6719,262.1563 411.8594,262.0469 Q412.0469,261.9375 412.2656,261.9375 Q412.6406,261.9375 412.875,262.2031 Q413.1094,262.4531 413.1094,263.0625 L413.1094,264.5156 Q413.1094,265.125 412.875,265.3906 Q412.6406,265.6563 412.2656,265.6563 Q411.9219,265.6563 411.7188,265.4531 Q411.5156,265.2656 411.4063,264.75 Q411.3594,264.3906 411.1719,264.2031 Q410.8438,263.8281 410.2344,263.6094 Q409.625,263.3906 409,263.3906 Q408.2344,263.3906 407.5938,263.7188 Q406.9688,264.0469 406.4688,264.7969 Q405.9844,265.5469 405.9844,266.5781 L405.9844,267.6719 Q405.9844,268.9063 406.875,269.7344 Q407.7656,270.5469 409.3594,270.5469 Q410.2969,270.5469 410.9531,270.2969 Q411.3438,270.1406 411.7656,269.7031 Q412.0313,269.4375 412.1719,269.3594 Q412.3281,269.2813 412.5313,269.2813 Q412.8594,269.2813 413.1094,269.5469 Q413.375,269.7969 413.375,270.1406 Q413.375,270.4844 413.0313,270.8906 Q412.5313,271.4688 411.7344,271.7969 Q410.6563,272.25 409.3594,272.25 Q407.8438,272.25 406.6406,271.625 Q405.6563,271.125 404.9688,270.0625 Q404.2813,268.9844 404.2813,267.7031 L404.2813,266.5469 Q404.2813,265.2188 404.8906,264.0781 Q405.5156,262.9219 406.6094,262.3125 Q407.7031,261.6875 408.9375,261.6875 Q409.6719,261.6875 410.3125,261.8594 Q410.9688,262.0156 411.5156,262.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="109" x="429.25" y="271.4102">TypingGameFactory</text><line style="stroke:#A80036;stroke-width:1.5;" x1="325.5" x2="609.5" y1="282.5" y2="282.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="325.5" x2="609.5" y1="290.5" y2="290.5"/><ellipse cx="335.5" cy="301.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="260" x="344.5" y="305.9189">TypingGame generate(TypingGameDifficulty difficulty)</text><path d="M6,260 L6,302.7031 A0,0 0 0 0 6,302.7031 L289,302.7031 A0,0 0 0 0 289,302.7031 L289,285.5 L324.26,281.5 L289,277.5 L289,270 L279,260 L6,260 A0,0 0 0 0 6,260 " fill="#FBFB77" filter="url(#f3l76it0m323k)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M279,260 L279,270 L289,270 L279,260 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="12" y="278.4951">TypingGameFactoryでTypingGameListenerの</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="12" y="294.8467">実装クラスを設定するように修正。</text><!--MD5=[fc7123defb831ecdd44b2d9bcef6cceb]
class Question--><rect codeLine="84" fill="#FEFECE" filter="url(#f3l76it0m323k)" height="103.3438" id="Question" style="stroke:#A80036;stroke-width:1.5;" width="286" x="157.5" y="804.5"/><ellipse cx="271.25" cy="820.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M274.0156,816.375 Q274.1719,816.1563 274.3594,816.0469 Q274.5469,815.9375 274.7656,815.9375 Q275.1406,815.9375 275.375,816.2031 Q275.6094,816.4531 275.6094,817.0625 L275.6094,818.5156 Q275.6094,819.125 275.375,819.3906 Q275.1406,819.6563 274.7656,819.6563 Q274.4219,819.6563 274.2188,819.4531 Q274.0156,819.2656 273.9063,818.75 Q273.8594,818.3906 273.6719,818.2031 Q273.3438,817.8281 272.7344,817.6094 Q272.125,817.3906 271.5,817.3906 Q270.7344,817.3906 270.0938,817.7188 Q269.4688,818.0469 268.9688,818.7969 Q268.4844,819.5469 268.4844,820.5781 L268.4844,821.6719 Q268.4844,822.9063 269.375,823.7344 Q270.2656,824.5469 271.8594,824.5469 Q272.7969,824.5469 273.4531,824.2969 Q273.8438,824.1406 274.2656,823.7031 Q274.5313,823.4375 274.6719,823.3594 Q274.8281,823.2813 275.0313,823.2813 Q275.3594,823.2813 275.6094,823.5469 Q275.875,823.7969 275.875,824.1406 Q275.875,824.4844 275.5313,824.8906 Q275.0313,825.4688 274.2344,825.7969 Q273.1563,826.25 271.8594,826.25 Q270.3438,826.25 269.1406,825.625 Q268.1563,825.125 267.4688,824.0625 Q266.7813,822.9844 266.7813,821.7031 L266.7813,820.5469 Q266.7813,819.2188 267.3906,818.0781 Q268.0156,816.9219 269.1094,816.3125 Q270.2031,815.6875 271.4375,815.6875 Q272.1719,815.6875 272.8125,815.8594 Q273.4688,816.0156 274.0156,816.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="50" x="291.75" y="825.4102">Question</text><line style="stroke:#A80036;stroke-width:1.5;" x1="158.5" x2="442.5" y1="836.5" y2="836.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="165.5" y="844.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="177.5" y="851.9189">String word</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="165.5" y="858.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="146" x="177.5" y="865.7549">TypingGameDifficulty difficulty</text><line style="stroke:#A80036;stroke-width:1.5;" x1="158.5" x2="442.5" y1="872.1719" y2="872.1719"/><ellipse cx="168.5" cy="883.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="260" x="177.5" y="887.5908">Question(String word, TypingGameDifficulty difficulty)</text><ellipse cx="168.5" cy="897.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="177.5" y="901.4268">String getWord()</text><!--MD5=[9c6dfb49ef2184b6b517c171c5d8a863]
class QuestionResult--><rect codeLine="91" fill="#FEFECE" filter="url(#f3l76it0m323k)" height="144.8516" id="QuestionResult" style="stroke:#A80036;stroke-width:1.5;" width="342" x="484.5" y="783.5"/><ellipse cx="608.25" cy="799.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M611.0156,795.375 Q611.1719,795.1563 611.3594,795.0469 Q611.5469,794.9375 611.7656,794.9375 Q612.1406,794.9375 612.375,795.2031 Q612.6094,795.4531 612.6094,796.0625 L612.6094,797.5156 Q612.6094,798.125 612.375,798.3906 Q612.1406,798.6563 611.7656,798.6563 Q611.4219,798.6563 611.2188,798.4531 Q611.0156,798.2656 610.9063,797.75 Q610.8594,797.3906 610.6719,797.2031 Q610.3438,796.8281 609.7344,796.6094 Q609.125,796.3906 608.5,796.3906 Q607.7344,796.3906 607.0938,796.7188 Q606.4688,797.0469 605.9688,797.7969 Q605.4844,798.5469 605.4844,799.5781 L605.4844,800.6719 Q605.4844,801.9063 606.375,802.7344 Q607.2656,803.5469 608.8594,803.5469 Q609.7969,803.5469 610.4531,803.2969 Q610.8438,803.1406 611.2656,802.7031 Q611.5313,802.4375 611.6719,802.3594 Q611.8281,802.2813 612.0313,802.2813 Q612.3594,802.2813 612.6094,802.5469 Q612.875,802.7969 612.875,803.1406 Q612.875,803.4844 612.5313,803.8906 Q612.0313,804.4688 611.2344,804.7969 Q610.1563,805.25 608.8594,805.25 Q607.3438,805.25 606.1406,804.625 Q605.1563,804.125 604.4688,803.0625 Q603.7813,801.9844 603.7813,800.7031 L603.7813,799.5469 Q603.7813,798.2188 604.3906,797.0781 Q605.0156,795.9219 606.1094,795.3125 Q607.2031,794.6875 608.4375,794.6875 Q609.1719,794.6875 609.8125,794.8594 Q610.4688,795.0156 611.0156,795.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="86" x="628.75" y="804.4102">QuestionResult</text><line style="stroke:#A80036;stroke-width:1.5;" x1="485.5" x2="825.5" y1="815.5" y2="815.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="492.5" y="823.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="504.5" y="830.9189">Question question</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="492.5" y="837.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="69" x="504.5" y="844.7549">String answer</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="492.5" y="851.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="67" x="504.5" y="858.5908">boolean judge</text><line style="stroke:#A80036;stroke-width:1.5;" x1="485.5" x2="825.5" y1="865.0078" y2="865.0078"/><ellipse cx="495.5" cy="876.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="316" x="504.5" y="880.4268">QuestionResult(Question question, String answer, boolean judge)</text><ellipse cx="495.5" cy="889.8438" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="504.5" y="894.2627">Question getQuestion()</text><ellipse cx="495.5" cy="903.6797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="504.5" y="908.0986">String getAnswer()</text><ellipse cx="495.5" cy="917.5156" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="504.5" y="921.9346">boolean isJudge()</text><!--MD5=[3665cc8380533de798edf75be7f81b43]
class QuestionFactory--><rect codeLine="101" fill="#FEFECE" filter="url(#f3l76it0m323k)" height="75.6719" id="QuestionFactory" style="stroke:#A80036;stroke-width:1.5;" width="327" x="120" y="501"/><ellipse cx="234.75" cy="517" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M237.5156,512.875 Q237.6719,512.6563 237.8594,512.5469 Q238.0469,512.4375 238.2656,512.4375 Q238.6406,512.4375 238.875,512.7031 Q239.1094,512.9531 239.1094,513.5625 L239.1094,515.0156 Q239.1094,515.625 238.875,515.8906 Q238.6406,516.1563 238.2656,516.1563 Q237.9219,516.1563 237.7188,515.9531 Q237.5156,515.7656 237.4063,515.25 Q237.3594,514.8906 237.1719,514.7031 Q236.8438,514.3281 236.2344,514.1094 Q235.625,513.8906 235,513.8906 Q234.2344,513.8906 233.5938,514.2188 Q232.9688,514.5469 232.4688,515.2969 Q231.9844,516.0469 231.9844,517.0781 L231.9844,518.1719 Q231.9844,519.4063 232.875,520.2344 Q233.7656,521.0469 235.3594,521.0469 Q236.2969,521.0469 236.9531,520.7969 Q237.3438,520.6406 237.7656,520.2031 Q238.0313,519.9375 238.1719,519.8594 Q238.3281,519.7813 238.5313,519.7813 Q238.8594,519.7813 239.1094,520.0469 Q239.375,520.2969 239.375,520.6406 Q239.375,520.9844 239.0313,521.3906 Q238.5313,521.9688 237.7344,522.2969 Q236.6563,522.75 235.3594,522.75 Q233.8438,522.75 232.6406,522.125 Q231.6563,521.625 230.9688,520.5625 Q230.2813,519.4844 230.2813,518.2031 L230.2813,517.0469 Q230.2813,515.7188 230.8906,514.5781 Q231.5156,513.4219 232.6094,512.8125 Q233.7031,512.1875 234.9375,512.1875 Q235.6719,512.1875 236.3125,512.3594 Q236.9688,512.5156 237.5156,512.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="255.25" y="521.9102">QuestionFactory</text><line style="stroke:#A80036;stroke-width:1.5;" x1="121" x2="446" y1="533" y2="533"/><line style="stroke:#A80036;stroke-width:1.5;" x1="121" x2="446" y1="541" y2="541"/><ellipse cx="131" cy="552" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="301" x="140" y="556.4189">static List&lt;Question&gt; generate(TypingGameDifficulty difficulty)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="128" y="562.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="140" y="570.2549">static List&lt;Question&gt; generate()</text><!--MD5=[f4abfe78a2e927cf2e914f071f8f9453]
class StandardInputReader--><rect codeLine="106" fill="#FEFECE" filter="url(#f3l76it0m323k)" height="48" id="StandardInputReader" style="stroke:#A80036;stroke-width:1.5;" width="150" x="1176.5" y="1154"/><ellipse cx="1191.5" cy="1170" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1194.2656,1165.875 Q1194.4219,1165.6563 1194.6094,1165.5469 Q1194.7969,1165.4375 1195.0156,1165.4375 Q1195.3906,1165.4375 1195.625,1165.7031 Q1195.8594,1165.9531 1195.8594,1166.5625 L1195.8594,1168.0156 Q1195.8594,1168.625 1195.625,1168.8906 Q1195.3906,1169.1563 1195.0156,1169.1563 Q1194.6719,1169.1563 1194.4688,1168.9531 Q1194.2656,1168.7656 1194.1563,1168.25 Q1194.1094,1167.8906 1193.9219,1167.7031 Q1193.5938,1167.3281 1192.9844,1167.1094 Q1192.375,1166.8906 1191.75,1166.8906 Q1190.9844,1166.8906 1190.3438,1167.2188 Q1189.7188,1167.5469 1189.2188,1168.2969 Q1188.7344,1169.0469 1188.7344,1170.0781 L1188.7344,1171.1719 Q1188.7344,1172.4063 1189.625,1173.2344 Q1190.5156,1174.0469 1192.1094,1174.0469 Q1193.0469,1174.0469 1193.7031,1173.7969 Q1194.0938,1173.6406 1194.5156,1173.2031 Q1194.7813,1172.9375 1194.9219,1172.8594 Q1195.0781,1172.7813 1195.2813,1172.7813 Q1195.6094,1172.7813 1195.8594,1173.0469 Q1196.125,1173.2969 1196.125,1173.6406 Q1196.125,1173.9844 1195.7813,1174.3906 Q1195.2813,1174.9688 1194.4844,1175.2969 Q1193.4063,1175.75 1192.1094,1175.75 Q1190.5938,1175.75 1189.3906,1175.125 Q1188.4063,1174.625 1187.7188,1173.5625 Q1187.0313,1172.4844 1187.0313,1171.2031 L1187.0313,1170.0469 Q1187.0313,1168.7188 1187.6406,1167.5781 Q1188.2656,1166.4219 1189.3594,1165.8125 Q1190.4531,1165.1875 1191.6875,1165.1875 Q1192.4219,1165.1875 1193.0625,1165.3594 Q1193.7188,1165.5156 1194.2656,1165.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118" x="1205.5" y="1174.9102">StandardInputReader</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1177.5" x2="1325.5" y1="1186" y2="1186"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1177.5" x2="1325.5" y1="1194" y2="1194"/><!--MD5=[729a6d74b6fdd7857230e4354fab65a9]
reverse link TypingGameListener to NormalTypingGameListener--><path d="M977.71,934.85 C979.08,968.12 980.58,1004.53 981.53,1027.55 " fill="none" id="TypingGameListener-backto-NormalTypingGameListener" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="970.71,934.95,976.88,914.68,984.7,934.38,970.71,934.95" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[cdad5fc734b30a951aa3a1cbfbedd928]
link Main to TypingGameFactory--><path codeLine="108" d="M775.56,152.14 C694.46,185.93 602.05,224.44 539.77,250.39 " fill="none" id="Main-TypingGameFactory" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="693.8846,193.0989,703.3643,192.3328,701.1035,186.9071,693.8846,193.0989" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="707.5" y="196.4951">use</text><!--MD5=[46e4fb36301fa5a2d7cd7a2bf92e51ea]
link Main to StandardInputReader--><path codeLine="109" d="M1182.21,151.47 C1340.46,201.05 1520.5,261.6 1520.5,280.5 C1520.5,280.5 1520.5,280.5 1520.5,1053 C1520.5,1138.75 1406.37,1165.4 1326.79,1173.56 " fill="none" id="Main-StandardInputReader" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="1526.2003,711.1265,1527.8434,701.7589,1522.0235,702.5822,1526.2003,711.1265" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1534.5" y="711.4951">use</text><!--MD5=[29950e6704daaa6cb4d0465601d39189]
link TypingGameFactory to QuestionFactory--><path codeLine="111" d="M445.85,312.56 C412.13,359.39 347.12,449.66 310.42,500.62 " fill="none" id="TypingGameFactory-QuestionFactory" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="410.5781,376.2332,418.2487,370.6107,413.479,367.1758,410.5781,376.2332" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="422.5" y="377.4951">use</text><!--MD5=[34053be3dab4592b4a82eb1e2fe8c8dd]
link TypingGameFactory to TypingGame--><path codeLine="113" d="M499.27,312.56 C525.4,337.29 564.35,374.15 603.21,410.92 " fill="none" id="TypingGameFactory-TypingGame" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="579.1317,375.6125,574.582,367.2608,570.5419,371.5301,579.1317,375.6125" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="584.5" y="377.4951">generate</text><!--MD5=[7b87940b4301618cade711b02849d6e8]
link QuestionFactory to Question--><path codeLine="115" d="M285.5,577.06 C288.54,633.41 294.34,740.79 297.76,804.32 " fill="none" id="QuestionFactory-Question" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="298.7693,711.1685,301.2168,701.9783,295.3474,702.2949,298.7693,711.1685" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="307.5" y="711.4951">generate</text><!--MD5=[2f163435dbb70469cf58f8a42310b871]
link TypingGameHistory to TypingGame--><path codeLine="117" d="M812.02,333.28 C804.31,354.45 794.97,380.11 785.54,406.01 " fill="none" id="TypingGameHistory-to-TypingGame" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="783.78,410.84,790.6027,403.7372,785.4807,406.1381,783.0797,401.0161,783.78,410.84" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[44da462e0e37ec5b4424557f44052c2f]
link TypingGame to TypingGameDifficulty--><path codeLine="118" d="M967.6,667.2 C1013.38,692.79 1061.04,719.62 1105.5,745 C1109.81,747.46 1114.17,749.96 1118.57,752.48 " fill="none" id="TypingGame-to-TypingGameDifficulty" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1122.98,755.02,1117.187,747.055,1118.6503,752.5193,1113.1859,753.9826,1122.98,755.02" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8e357755c5ee833ed7c109bc7d6b71d2]
link TypingGame to Question--><path codeLine="119" d="M561.02,667.21 C496.16,713.97 426.16,764.42 375.08,801.24 " fill="none" id="TypingGame-to-Question" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="370.81,804.32,380.4533,802.3181,374.8709,801.403,375.7861,795.8207,370.81,804.32" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4e9345365ffcc7cc56576d252551d836]
link TypingGame to QuestionResult--><path codeLine="120" d="M704.38,667.21 C694.55,704.97 684.1,745.14 675.39,778.6 " fill="none" id="TypingGame-to-QuestionResult" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="674.12,783.48,680.253,775.7738,675.3763,778.6404,672.5097,773.7637,674.12,783.48" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[cbe695f3de70804266794fb73b9824b3]
link TypingGame to TypingGameListener--><path codeLine="121" d="M833.21,667.21 C865.8,710.53 900.79,757.03 927.79,792.91 " fill="none" id="TypingGame-to-TypingGameListener" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="931.04,797.24,928.84,787.64,928.04,793.24,922.44,792.44,931.04,797.24" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a0eefe7436a21ea046337e0d0db283fe]
link NormalTypingGameListener to StandardInputReader--><path codeLine="123" d="M1032.47,1076.03 C1080.63,1098.24 1153.12,1131.65 1201.35,1153.88 " fill="none" id="NormalTypingGameListener-StandardInputReader" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="1142.0408,1117.269,1135.0568,1110.8134,1132.5961,1116.1513,1142.0408,1117.269" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1146.5" y="1120.4951">use</text><!--MD5=[ffc9c0f0cc18a63c6d399e649de2e6c6]
@startuml 05_externalization_typinggame_standard_io

note as note_main
  背景がピンク：新規に作成したクラス
  背景がオレンジ：修正したクラス
end note

class Main {
  + {static} main()
  - {static} TypingGameDifficulty displayInputDifficulty()
  - {static} void displayCountDown()
  - {static} void displayResult(TypingGame typingGame)
  - {static} void displayRanking(TypingGameHistory typingGameHistory, TypingGameDifficulty difficulty)
  - {static} boolean displayInputRetry()
  - {static} static int getInputInt(int defaultValue)
}

class TypingGame #Orange {
  - TypingGameDifficulty difficulty
  - List<Question> questions
  - TypingGameListener listener
  - List<QuestionResult> results
  - ZonedDateTime startTime
  - ZonedDateTime endTime
  - Question prevQuestion
  + TypingGame(TypingGameDifficulty difficulty, List<Question> questions, TypingGameListener listener)
  + void execute()
  + List<QuestionResult> getResults()
  + long getTimeToCalculate()
  + boolean isSameDifficulty(TypingGameDifficulty difficulty)
  + int getNumberOfQuestions()
  - Question getNextQuestion()
  - String toString()
}
note right
  TypingGameListenerを介して標準入出力を使用するようにすることで、
  TypingGameから標準入出力との依存関係を切り離すことが出来た。
end note

interface TypingGameListener #Pink {
  void onGameStart(TypingGame typingGame)
  void onGameEnd(TypingGame typingGame)
  String receiveAnswer(Question question)
  void onJudgeOK(TypingGame typingGame)
  void onJudgeNG(TypingGame typingGame)
}

class NormalTypingGameListener #Pink implements TypingGameListener
note left of NormalTypingGameListener
  TypingGameから移した標準入出力の処理が入っている。
end note

enum TypingGameDifficulty {
  + EASY
  + NORMAL
  + HARD
  ..
  - String name
  - int level
  - boolean defaultLevel
  __
  + TypingGameDifficulty(String name, int level, boolean defaultLevel)
  + {static} TypingGameDifficulty of(int level)
  + {static} TypingGameDifficulty getDefault()
  + String getName()
  + int getLevel()
  + boolean lessThan(TypingGameDifficulty difficulty)
}

class TypingGameHistory {
  - List<TypingGame> typingGames
  + void add(TypingGame typingGame)
  + List<TypingGame> sortedTypingGames(TypingGameDifficulty difficulty)
  - List<TypingGame> getTypingGames(TypingGameDifficulty difficulty)
}

class TypingGameFactory #Orange {
  + {static} TypingGame generate(TypingGameDifficulty difficulty)
}
note left 
  TypingGameFactoryでTypingGameListenerの
  実装クラスを設定するように修正。
end note

class Question {
  - String word
  - TypingGameDifficulty difficulty
  + Question(String word, TypingGameDifficulty difficulty)
  + String getWord()
}

class QuestionResult {
  - Question question
  - String answer
  - boolean judge
  + QuestionResult(Question question, String answer, boolean judge)
  + Question getQuestion()
  + String getAnswer()
  + boolean isJudge()
}

class QuestionFactory {
  + static List<Question> generate(TypingGameDifficulty difficulty)
  - static List<Question> generate()
}

class StandardInputReader {}

Main - - TypingGameFactory : use >
Main - - StandardInputReader : use >

TypingGameFactory - - QuestionFactory : use >

TypingGameFactory - - TypingGame : generate >

QuestionFactory - - Question : generate >

TypingGameHistory - -> TypingGame
TypingGame - -> TypingGameDifficulty
TypingGame - -> Question
TypingGame - -> QuestionResult
TypingGame - -> TypingGameListener

NormalTypingGameListener - - StandardInputReader : use >

@enduml

PlantUML version 1.2022.0(Wed Jan 12 01:16:42 JST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>